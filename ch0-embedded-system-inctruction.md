#### 1.从智能车说起

本小书是以全国大学生智能车比赛作为案例来展开，这是我大学时候的最爱，也是目前自己带的学生创新实验室主要的比赛项目，所以站在这个角度给大家简单说一下如何构建一个基本的嵌入式系统，不求实现的多么完美，但求简洁而明白。

智能车比赛主要任务是做赛道寻线跟踪处理，用摄像头采集前方赛道图像，实现车速和转向的控制，达到跟踪赛道行驶的效果。智能车整体结构的俯视图和侧视图如图1所示，后轮电机驱动，电池后放，摄像头中间放置，舵机改造为立式。

![](/assets/EmbeddedSystem_S0_P0.png)图1.智能车结构图

整个智能车系统里面涉及几部分：机械设计，硬件设计，嵌入式平台软件，控制算法软件与图像处理软件，本小书将会重点对后三部分详细展开介绍。这里要说一点，虽然本小书不探讨机械，但是整个智能车机械部分是非常重要的部分，或者可以这样说，机械调教决定了车的理论最高车速，而控制软件部分只决定实际车速，由于受限于自己自动化的专业背景，机械这方面不能过多展开。如果想深入学习机械，请大家阅读相关的专业书籍。

#### 2.整体系统结构

智能车的整体结构如图2所示，上面是软件部分，主要包括图像处理，转速控制和转向控制，下面是硬件机械部分，主要包括电机，驱动，编码器，舵机，摄像头。整个系统的信号流和控制结构都可以从图中看出来，获取图像进行处理得到加减速指令和转向指令，下发给转速控制器和转向控制器，转向控制器负责控制舵机实现路径跟踪，转速控制器负责两个后轮的转速闭环控制。

* 机械与硬件设计（电源，编码器，电机驱动，摄像头）

* 嵌入式平台软件（系统结构，分层设计，模块设计）

* 控制算法软件（转速PI控制器，Matlab仿真，转向控制器设计）
* 图像处理软件（Matlab与C语言混合编程，图像处理与验证）
* 系统测试与分析（串口辅助调试，IO辅助测试，Matlab可视化数据分析） ![](/assets/EmbeddedSystem_S0_P1.png)图2.智能车总体结构图



